function findSuggestions(e,t){$.post("../app/includes/search_suggestions.php",{search:e,field:t},function(e){if(e){var s=$.parseJSON(e);$(".search-suggestions").html(""),"country"==t?$.each(s,function(e){$(".search-suggestions").append("<a href='collection?country="+e+"' class='list-group-item list-group-item-action btn text-left p-2'>"+this+"</a>")}):$.each(s,function(){$(".search-suggestions").append("<a href='collection?search="+this+"' class='list-group-item list-group-item-action btn text-left p-2'>"+this+"</a>")})}})}$(document).ready(function(){$("input[name=search]").on("click input propertychange",function(){var e=$(this).val();e.length<2?$(".search-suggestions").html(""):($(".search-suggestions").show(),findSuggestions(e,$("select[name=field]").val()))}),$("select[name=field]").on("change propertychange",function(){var e=$("input[name=search]").val();e.length<2?$(".search-suggestions").html(""):findSuggestions(e,$("select[name=field]").val())})}),$(document).mouseup(function(e){var t=$(".search-suggestions");t.is(e.target)||0!==t.has(e.target).length||t.hide()});